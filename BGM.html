<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BGM Semiotic Analysis Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --font-main: 'Inter', sans-serif;
            --font-mono: 'Roboto Mono', monospace;
            --color-primary: #00A9FF;
            --color-secondary: #FF6AC2;
            --color-bg-dark: #0D1117;
            --color-bg-light: #161B22;
            --color-bg-glass: rgba(22, 27, 34, 0.8);
            --color-border: #30363d;
            --color-text-primary: #EAEAEA;
            --color-text-secondary: #A0A0A0;
            --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.4);
            --glow-color: rgba(0, 169, 255, 0.6);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 2rem; 
        }

        body {
            font-family: var(--font-main);
            font-weight: 400;
            line-height: 1.7;
            color: var(--color-text-secondary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }
        
        .background-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            background-color: var(--color-bg-dark);
        }
        .particle {
            position: absolute;
            background: var(--color-primary);
            border-radius: 50%;
            opacity: 0;
            animation: float 25s infinite ease-in-out;
        }
        .particle:nth-child(1) { width: 5px; height: 5px; left: 10%; animation-duration: 20s; animation-delay: -5s; }
        .particle:nth-child(2) { width: 2px; height: 2px; left: 30%; animation-duration: 30s; animation-delay: -2s; }
        .particle:nth-child(3) { width: 4px; height: 4px; left: 50%; animation-duration: 15s; animation-delay: -10s; background: var(--color-secondary); }
        .particle:nth-child(4) { width: 3px; height: 3px; left: 70%; animation-duration: 22s; animation-delay: -15s; }
        .particle:nth-child(5) { width: 2px; height: 2px; left: 90%; animation-duration: 35s; animation-delay: -8s; background: var(--color-secondary); }

        @keyframes float {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 0.3; }
            100% { transform: translateY(-100vh) scale(1); opacity: 0; }
        }

        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--color-bg-light); }
        ::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--color-text-secondary); }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: var(--color-bg-glass);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-right: 1px solid var(--color-border);
            padding: 2.5rem;
            display: flex;
            flex-direction: column;
            z-index: 1000;
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }
        
        .sidebar-header {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 0.5rem;
        }
        
        .sidebar-subtitle {
            font-size: 0.9rem;
            margin-bottom: 3rem;
            color: var(--color-primary);
        }
        
        .sidebar nav ul { list-style: none; }
        .sidebar nav li { margin-bottom: 0.5rem; }

        .sidebar nav a {
            text-decoration: none;
            color: var(--color-text-secondary);
            font-weight: 500;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            transition: color 0.3s ease, background-color 0.3s ease;
        }
        
        .sidebar nav a:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--color-text-primary);
        }
        
        .sidebar nav a.active {
            background: var(--color-primary);
            color: white;
            font-weight: 600;
        }

        .main-content {
            margin-left: 280px;
            padding: 3rem;
        }
        
        /* --- FINAL COMPACT HEADER --- */
        .main-header {
            text-align: center;
            margin-bottom: 2.5rem;
            padding: 1rem 0 1.5rem 0;
            border-bottom: 1px solid var(--color-border);
            position: relative;
            z-index: 10;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes iconGlow {
            0%, 100% { box-shadow: 0 0 5px var(--glow-color), 0 0 10px rgba(0, 169, 255, 0.3); }
            50% { box-shadow: 0 0 8px var(--glow-color), 0 0 15px rgba(0, 169, 255, 0.5); }
        }

        .header-title-container {
            animation: fadeInUp 0.8s ease-out;
            animation-delay: 0.2s;
            animation-fill-mode: backwards;
        }

        .main-header h1 {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary), var(--color-primary));
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 8s linear infinite;
            display: inline-flex;
            align-items: center;
            gap: 1.25rem;
            margin-bottom: 0.25rem;
            transition: text-shadow 0.3s ease;
        }
        
        .main-header h1:hover {
            text-shadow: 0 0 15px var(--glow-color), 0 0 25px rgba(0, 169, 255, 0.5);
        }

        @keyframes shimmer {
            to { background-position: 200% center; }
        }

        .header-icon {
            width: 2.4rem;
            height: 2.4rem;
            fill: currentColor;
            opacity: 0.9;
            animation: iconGlow 4s infinite ease-in-out;
            border-radius: 5px;
            transition: fill 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .main-header h1:hover .header-icon {
            fill: white;
            transform: scale(1.1);
            animation: none;
            box-shadow: 0 0 15px var(--color-primary), 0 0 25px rgba(255, 255, 255, 0.5);
        }
        
        .main-subtitle {
            margin-top: 0;
            font-size: 1rem;
            font-weight: 500;
            color: var(--color-text-secondary);
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        /* NEW/MODIFIED styles for the single-line quote */
        .header-quote {
            font-style: italic;
            font-size: 1rem;
            line-height: 1.5;
            color: var(--color-text-secondary);
            max-width: 800px; /* Wider to allow for longer quotes */
            margin: 1rem auto 0 auto; /* Tighter margin */
            padding: 0;
            transition: opacity 0.5s ease-in-out;
            animation: fadeInUp 0.8s ease-out;
            animation-delay: 0.6s;
            animation-fill-mode: backwards;
        }

        .quote-author {
            font-style: normal; /* Override parent's italic */
            font-weight: 500;
            color: var(--color-primary); /* Different color for author */
            margin-left: 0.75em; /* Space between quote and author */
        }

        /* --- Page Content Styles (Unchanged) --- */
        .track-section {
            background: var(--color-bg-glass);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--color-border);
            border-radius: 16px;
            padding: 3rem;
            margin-bottom: 4rem;
            box-shadow: var(--shadow-md);
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--color-border);
            position: relative;
            text-shadow: 0 0 10px rgba(0, 169, 255, 0.3);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            border-radius: 2px;
        }
        
        .card h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--color-border);
        }
        
        .audio-player-section {
            background: rgba(18, 18, 18, 0.5);
            border: 1px solid var(--color-border);
            border-radius: 16px; 
            padding: 2rem; 
            margin-bottom: 2.5rem; 
        }
        
        .player-info { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1.5rem; }
        .track-details .audio-title { font-size: 1.5rem; margin: 0 0 0.5rem 0; color: var(--color-text-primary); font-weight: 600; }
        .audio-subtitle { color: var(--color-text-secondary); margin: 0; font-size: 0.95rem; }
        .audio-player { width: 100%; max-width: 400px; height: 40px; }
        
        .timeline-container { background: var(--color-bg-dark); border-radius: 12px; padding: 1.5rem; border: 1px solid var(--color-border); margin-top: 2rem; }
        .timeline-title { color: var(--color-text-primary); margin-bottom: 1rem; font-size: 1.1rem; font-weight: 600; }
        .timeline-track { background: var(--color-bg-lighter); height: 50px; border-radius: 25px; position: relative; margin-bottom: 0.5rem; overflow: hidden; cursor: pointer; }
        .timeline-progress { background: linear-gradient(90deg, var(--color-primary), var(--color-secondary)); height: 100%; width: 0%; border-radius: 25px; transition: width 0.1s linear; pointer-events: none; }
        .timeline-events { position: absolute; top: 0; left: 0; right: 0; bottom: 0; }
        .event-marker { position: absolute; top: 8px; bottom: 8px; width: 3px; border-radius: 2px; transition: all 0.2s ease; cursor: pointer; z-index: 5; }
        .event-marker::after { content: attr(data-timestamp); position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%) scale(0.8); transform-origin: bottom center; background-color: var(--color-dark); color: white; padding: 5px 10px; border-radius: 6px; font-size: 0.9em; font-family: var(--font-mono); white-space: nowrap; opacity: 0; visibility: hidden; transition: all 0.2s ease; pointer-events: none; z-index: 100; }
        .event-marker.tooltip-active::after { opacity: 1; visibility: visible; transform: translateX(-50%) scale(1); }
        .event-marker.high-intensity { background: #e53e3e; }
        .event-marker.medium-intensity { background: #dd6b20; }
        .event-marker.low-intensity { background: #38a169; }
        .event-marker.marker-playing { animation: pulse 0.5s ease-out; }
        @keyframes pulse { 0% { transform: scale(1.5, 1.5); box-shadow: 0 0 10px var(--color-primary), inset 0 0 4px var(--color-primary); } 100% { transform: scale(1, 1); box-shadow: none; } }
        .timeline-cursor { position: absolute; top: 4px; bottom: 4px; width: 4px; background: white; border-radius: 2px; left: 0%; box-shadow: 0 0 10px rgba(255, 255, 255, 0.8); transition: left 0.1s linear; z-index: 10; pointer-events: none; }
        .timeline-labels { display: flex; justify-content: space-between; color: var(--color-text-secondary); font-size: 0.85rem; font-family: var(--font-mono); margin-top: 0.5rem; }
        .events-summary { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 1.5rem; }
        .event-stats { display: flex; gap: 1rem; }
        .stat-card { text-align: center; background: rgba(0,0,0,0.1); border-radius: 8px; padding: 1rem 0.75rem; flex: 1; border: 1px solid var(--color-border); }
        .stat-number { font-size: 1.5rem; font-weight: 700; color: var(--color-text-primary); margin-bottom: 0.25rem; font-family: var(--font-mono); }
        .stat-label { font-size: 0.8rem; color: var(--color-text-secondary); text-transform: uppercase; letter-spacing: 0.5px; }
        .events-legend { display: flex; flex-direction: column; gap: 0.75rem; justify-content: center; }
        .legend-item { display: flex; align-items: center; gap: 0.75rem; font-size: 0.9rem; color: var(--color-text-secondary); }
        .legend-dot { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; }
        .legend-dot.high-intensity { background: #e53e3e; } .legend-dot.medium-intensity { background: #dd6b20; } .legend-dot.low-intensity { background: #38a169; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem; margin-top: 2rem; }
        .card { background: var(--color-bg-light); border-radius: 12px; padding: 2rem; border: 1px solid var(--color-border); display: flex; flex-direction: column; transition: border-color 0.3s ease;}
        .card:hover { border-color: var(--color-primary); }
        .description-content { background: var(--color-bg-dark); border-radius: 8px; padding: 1.5rem; border-left: 4px solid var(--color-primary); }
        .description-content strong { color: var(--color-text-primary); font-weight: 600; }
        .ai-table { width: 100%; border-collapse: collapse; flex-grow: 1; }
        .ai-table th { color: var(--color-text-primary); padding: 1rem; text-align: left; font-weight: 600; font-size: 0.9rem; border-bottom: 2px solid var(--color-border);}
        .ai-table td { padding: 1rem; border-bottom: 1px solid var(--color-border); }
        .confidence-bar { display: flex; align-items: center; gap: 0.75rem; }
        .confidence-value { font-weight: 600; color: var(--color-text-primary); min-width: 60px; font-family: var(--font-mono);}
        .confidence-visual { flex: 1; height: 8px; background: var(--color-bg-dark); border-radius: 4px; overflow: hidden; }
        .confidence-fill { height: 100%; background: var(--color-primary); border-radius: 4px; transition: width 0.5s ease-out; }
        .image-container { margin-top: auto; padding-top: 1.5rem; text-align: center; }
        .analysis-image { max-width: 100%; height: auto; border-radius: 12px; border: 1px solid var(--color-border); }
        .temporal-section { margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--color-border); }
        .temporal-section h3, .comparative-section .section-title, .similarity-card h3 { font-weight: 700; color: var(--color-text-primary); text-align: center; }
        .temporal-section h3 { font-size: 1.75rem; } .comparative-section .section-title { font-size: 2.5rem; margin-bottom: 2.5rem; } .similarity-card h3 { font-size: 1.5rem; margin-bottom: 1rem; border: none;}
        
        .wide-image-container { overflow-x: auto; border: 1px solid var(--color-border); border-radius: 12px; background: var(--color-bg-dark); padding: 1rem; }
        .wide-image-container::-webkit-scrollbar { height: 8px; }
        .wide-image-container::-webkit-scrollbar-track { background: var(--color-bg-dark); border-radius: 4px; }
        .wide-image-container::-webkit-scrollbar-thumb { background: var(--color-text-secondary); border-radius: 4px; }
        .wide-image-container::-webkit-scrollbar-thumb:hover { background: var(--color-primary); }
        .analysis-image-wide { max-width: none; height: 350px; border-radius: 8px; border: none; }

        .comparative-section .section-title::after { left: 50%; transform: translateX(-50%); }
        .similarity-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2.5rem; }
        .similarity-card { background: var(--color-bg-light); border: 1px solid var(--color-border); border-radius: 12px; padding: 2rem;}
        .similarity-card p { color: var(--color-text-secondary); margin-bottom: 1.5rem; text-align: center;}
        
        footer { text-align: center; padding: 2rem; margin-left: 280px; background: var(--color-bg-light); color: var(--color-text-secondary); font-size: 0.9rem; border-top: 1px solid var(--color-border);}
        
        /* --- Mobile Responsive Menu --- */
        .mobile-menu-toggle { display: none; position: fixed; top: 1rem; right: 1.5rem; width: 40px; height: 40px; background: var(--color-bg-light); border: 1px solid var(--color-border); border-radius: 8px; z-index: 1001; cursor: pointer; }
        .mobile-menu-toggle .bar { width: 20px; height: 2px; background: var(--color-text-primary); margin: 4px auto; transition: all 0.3s ease; }
        .mobile-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999; backdrop-filter: blur(2px); }

        @media (max-width: 1024px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.is-open { transform: translateX(0); }
            .main-content { margin-left: 0; padding: 1.5rem;}
            .main-header h1 { font-size: 2.25rem; gap: 1rem; }
            .header-icon { width: 2rem; height: 2rem; }
            .similarity-grid { grid-template-columns: 1fr; }
            .events-summary { grid-template-columns: 1fr; }
            footer { margin-left: 0; }
            .mobile-menu-toggle { display: block; }
            .mobile-overlay.is-active { display: block; }
            .mobile-menu-toggle.is-open .bar:nth-child(1) { transform: translateY(6px) rotate(45deg); }
            .mobile-menu-toggle.is-open .bar:nth-child(2) { opacity: 0; }
            .mobile-menu-toggle.is-open .bar:nth-child(3) { transform: translateY(-6px) rotate(-45deg); }
        }
    </style>
</head>
<body>
    <div class="background-wrapper">
        <div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div><div class="particle"></div>
    </div>

    <aside class="sidebar" id="sidebar">
        <h1 class="sidebar-header">BGM Analysis</h1>
        <p class="sidebar-subtitle">Semiotic Report</p>
        <nav>
            <ul>
                <li><a href="#track1" class="active">Track 1: Kothanodi</a></li>
                <li><a href="#track2">Track 2: Kothanodi</a></li>
                <li><a href="#track3">Track 3: Aamis</a></li>
                <li><a href="#track4">Track 4: Aamis</a></li>
                <li><a href="#comparative">Comparative Analysis</a></li>
            </ul>
        </nav>
    </aside>

    <button class="mobile-menu-toggle" id="menu-toggle">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    </button>
    <div class="mobile-overlay" id="mobile-overlay"></div>

    <main class="main-content">
        <header class="main-header">
            <div class="header-title-container">
                <h1>
                    <svg class="header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
                    BGM Semiotic Analysis
                    <svg class="header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/></svg>
                </h1>
                <p class="main-subtitle">Assamese Film Music Background Analysis</p>
            </div>
            
            <p class="header-quote" id="quote-container">
                <span id="quote-text"></span>
                <span class="quote-author" id="quote-author"></span>
            </p>

        </header>

        <section class="track-section" id="track1">
            <h2 class="section-title">Track 1: Kothanodi</h2>
            <div class="audio-player-section">
                <div class="player-container">
                    <div class="player-info">
                        <div class="track-details">
                            <h3 class="audio-title" style="border: none; margin: 0; padding: 0;">Mystery and Horror</h3>
                            <p class="audio-subtitle">Traditional Assamese BGM</p>
                        </div>
                        <audio controls class="audio-player" id="audioTrack1"><source src="visualizations/t1.mp3" type="audio/mpeg"></audio>
                    </div>
                </div>
                <div class="timeline-container">
                    <h4 class="timeline-title">Interactive Sonic Events Timeline</h4>
                    <div class="timeline-visualization">
                        <div class="timeline-track" id="timelineTrack1"><div class="timeline-progress" id="timelineProgress1"></div><div class="timeline-events" id="timelineEvents1"></div><div class="timeline-cursor" id="timelineCursor1"></div></div>
                        <div class="timeline-labels" id="timelineLabels1"></div>
                    </div>
                    <div class="events-summary">
                        <div class="event-stats">
                            <div class="stat-card"><div class="stat-number" id="totalEvents1">0</div><div class="stat-label">Total Events</div></div>
                            <div class="stat-card"><div class="stat-number" id="eventsPerSecond1">0.00</div><div class="stat-label">Events/Sec</div></div>
                            <div class="stat-card"><div class="stat-number" id="duration1">0.00</div><div class="stat-label">Duration (s)</div></div>
                        </div>
                        <div class="events-legend">
                            <div class="legend-item"><div class="legend-dot high-intensity"></div><span>High Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot medium-intensity"></div><span>Medium Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot low-intensity"></div><span>Low Intensity</span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid">
                <div class="card">
                    <h3>Filmmaker's Intent & Context</h3>
                    <div class="description-content">
                        <p><strong>Sound Type:</strong> Traditional Assamese instruments (khol-tal-barkah) with strange human voice melodies ("eo-a-o").</p>
                        <p><strong>Scene Description:</strong> Ponai is burying a baby. The background sounds are intended to give the sequence a feeling of mystery.</p>
                        <p><strong>Primary Themes:</strong> Mystery, Horror</p>
                    </div>
                </div>
                <div class="card">
                    <h3>Objective Musical Properties</h3>
                    <div class="chart-container" style="position: relative; height:40vh; width:100%">
                        <canvas id="chartTrack1"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>AI-Powered Semiotic Interpretation</h3>
                    <table class="ai-table">
                        <thead><tr><th>AI Classification</th><th>Confidence Level</th></tr></thead>
                        <tbody>
                            <tr><td>Intrigue</td><td><div class="confidence-bar"><span class="confidence-value">22.51%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 22.51%"></div></div></div></td></tr>
                            <tr><td>Deep instrumental tones</td><td><div class="confidence-bar"><span class="confidence-value">20.16%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 20.16%"></div></div></div></td></tr>
                            <tr><td>Suspenseful music</td><td><div class="confidence-bar"><span class="confidence-value">17.15%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 17.15%"></div></div></div></td></tr>
                            <tr><td>Traditional folk instruments</td><td><div class="confidence-bar"><span class="confidence-value">8.72%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 8.72%"></div></div></div></td></tr>
                            <tr><td>Human voices chanting</td><td><div class="confidence-bar"><span class="confidence-value">6.89%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 6.89%"></div></div></div></td></tr>
                        </tbody>
                    </table>
                     <div class="image-container"><img src="visualizations/spectrogram_Track 1.png" alt="Spectrogram Analysis" class="analysis-image"></div>
                </div>
                 <div class="card">
                    <h3>Semiotic Fingerprint</h3>
                     <div class="image-container" style="margin-top:0; padding-top:0;"><img src="visualizations/fingerprint_Track 1.png" alt="Semiotic Fingerprint" class="analysis-image"></div>
                </div>
				 <div class="card">
                <h3>Temporal Semiotic Analysis</h3>
                <div class="wide-image-container">
                    <img src="visualizations/temporal_Track 1.png" alt="Temporal Evolution Plot" class="analysis-image-wide">
                </div>
            </div>
            </div>
        </section>

        <section class="track-section fade-in" id="track2">
            <h2 class="section-title">Track 2: Kothanodi</h2>
            <div class="audio-player-section">
                <div class="player-container">
                    <div class="player-info">
                        <div class="track-details">
                            <h3 class="audio-title" style="border: none; margin: 0; padding: 0;">Outrage and Intrigue</h3>
                            <p class="audio-subtitle">Experimental BGM</p>
                        </div>
                        <audio controls class="audio-player" id="audioTrack2"><source src="visualizations/t2.mp3" type="audio/mpeg"></audio>
                    </div>
                </div>
                <div class="timeline-container">
                    <h4 class="timeline-title">Interactive Sonic Events Timeline</h4>
                    <div class="timeline-visualization">
                        <div class="timeline-track" id="timelineTrack2"><div class="timeline-progress" id="timelineProgress2"></div><div class="timeline-events" id="timelineEvents2"></div><div class="timeline-cursor" id="timelineCursor2"></div></div>
                        <div class="timeline-labels" id="timelineLabels2"></div>
                    </div>
                    <div class="events-summary">
                        <div class="event-stats">
                             <div class="stat-card"><div class="stat-number" id="totalEvents2">0</div><div class="stat-label">Total Events</div></div>
                            <div class="stat-card"><div class="stat-number" id="eventsPerSecond2">0.00</div><div class="stat-label">Events/Sec</div></div>
                            <div class="stat-card"><div class="stat-number" id="duration2">0.00</div><div class="stat-label">Duration (s)</div></div>
                        </div>
                         <div class="events-legend">
                            <div class="legend-item"><div class="legend-dot high-intensity"></div><span>High Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot medium-intensity"></div><span>Medium Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot low-intensity"></div><span>Low Intensity</span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid">
                <div class="card">
                    <h3>Filmmaker's Intent & Context</h3>
                    <div class="description-content">
                        <p><strong>Sound Type:</strong> A combination of snake sounds and instruments to express intrigue.</p>
                        <p><strong>Scene Description:</strong> Dhaneshwari's anger is depicted as snake-like, related to a marriage involving a serpent.</p>
                        <p><strong>Primary Themes:</strong> Outrage, Intrigue, Horror</p>
                    </div>
                </div>
                 <div class="card">
                    <h3>Objective Musical Properties</h3>
                    <div class="chart-container" style="position: relative; height:40vh; width:100%">
                        <canvas id="chartTrack2"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>AI-Powered Semiotic Interpretation</h3>
                    <table class="ai-table">
                        <thead><tr><th>AI Classification</th><th>Confidence Level</th></tr></thead>
                        <tbody>
                            <tr><td>Horror</td><td><div class="confidence-bar"><span class="confidence-value">32.35%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 32.35%"></div></div></div></td></tr>
                            <tr><td>Human voices chanting</td><td><div class="confidence-bar"><span class="confidence-value">21.43%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 21.43%"></div></div></div></td></tr>
                            <tr><td>Intrigue</td><td><div class="confidence-bar"><span class="confidence-value">8.94%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 8.94%"></div></div></div></td></tr>
                            <tr><td>Suspenseful music</td><td><div class="confidence-bar"><span class="confidence-value">8.76%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 8.76%"></div></div></div></td></tr>
                            <tr><td>Sound of snakes</td><td><div class="confidence-bar"><span class="confidence-value">6.00%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 6.00%"></div></div></div></td></tr>
                        </tbody>
                    </table>
                     <div class="image-container"><img src="visualizations/spectrogram_Track 2.png" alt="Spectrogram Analysis" class="analysis-image"></div>
                </div>
                 <div class="card">
                    <h3>Semiotic Fingerprint</h3>
                     <div class="image-container" style="margin-top:0; padding-top:0;"><img src="visualizations/fingerprint_Track 2.png" alt="Semiotic Fingerprint" class="analysis-image"></div>
                </div>
				  <div class="card">
                <h3>Temporal Semiotic Analysis</h3>
                <div class="wide-image-container">
                    <img src="visualizations/temporal_Track 2.png" alt="Temporal Evolution Plot" class="analysis-image-wide">
                </div>
            </div>
            </div>
        </section>
        
        <section class="track-section fade-in" id="track3">
             <h2 class="section-title">Track 3: Aamis</h2>
            <div class="audio-player-section">
                <div class="player-container">
                    <div class="player-info">
                        <div class="track-details">
                            <h3 class="audio-title" style="border: none; margin: 0; padding: 0;">Mental State</h3>
                            <p class="audio-subtitle">Psychological Horror Score</p>
                        </div>
                        <audio controls class="audio-player" id="audioTrack3"><source src="visualizations/t3.mp3" type="audio/mpeg"></audio>
                    </div>
                </div>
                <div class="timeline-container">
                    <h4 class="timeline-title">Interactive Sonic Events Timeline</h4>
                    <div class="timeline-visualization">
                        <div class="timeline-track" id="timelineTrack3"><div class="timeline-progress" id="timelineProgress3"></div><div class="timeline-events" id="timelineEvents3"></div><div class="timeline-cursor" id="timelineCursor3"></div></div>
                        <div class="timeline-labels" id="timelineLabels3"></div>
                    </div>
                    <div class="events-summary">
                        <div class="event-stats">
                             <div class="stat-card"><div class="stat-number" id="totalEvents3">0</div><div class="stat-label">Total Events</div></div>
                            <div class="stat-card"><div class="stat-number" id="eventsPerSecond3">0.00</div><div class="stat-label">Events/Sec</div></div>
                            <div class="stat-card"><div class="stat-number" id="duration3">0.00</div><div class="stat-label">Duration (s)</div></div>
                        </div>
                         <div class="events-legend">
                            <div class="legend-item"><div class="legend-dot high-intensity"></div><span>High Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot medium-intensity"></div><span>Medium Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot low-intensity"></div><span>Low Intensity</span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid">
                <div class="card">
                    <h3>Filmmaker's Intent & Context</h3>
                    <div class="description-content">
                        <p><strong>Sound Type:</strong> A deep instrumental tone.</p>
                        <p><strong>Scene Description:</strong> When Nirmali confesses her acute meat addiction to Suman, this deep sound is used to express the severity of her mental state.</p>
                        <p><strong>Primary Themes:</strong> Thoughts, Horror</p>
                    </div>
                </div>
                <div class="card">
                    <h3>Objective Musical Properties</h3>
                    <div class="chart-container" style="position: relative; height:40vh; width:100%">
                        <canvas id="chartTrack3"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>AI-Powered Semiotic Interpretation</h3>
                    <table class="ai-table">
                        <thead><tr><th>AI Classification</th><th>Confidence Level</th></tr></thead>
                        <tbody>
                            <tr><td>Sadness</td><td><div class="confidence-bar"><span class="confidence-value">40.93%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 40.93%"></div></div></div></td></tr>
                            <tr><td>Suspenseful music</td><td><div class="confidence-bar"><span class="confidence-value">23.20%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 23.20%"></div></div></div></td></tr>
                            <tr><td>Mystery</td><td><div class="confidence-bar"><span class="confidence-value">16.56%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 16.56%"></div></div></div></td></tr>
                            <tr><td>Horror</td><td><div class="confidence-bar"><span class="confidence-value">4.51%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 4.51%"></div></div></div></td></tr>
                            <tr><td>Deep instrumental tones</td><td><div class="confidence-bar"><span class="confidence-value">2.74%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 2.74%"></div></div></div></td></tr>
                        </tbody>
                    </table>
                     <div class="image-container"><img src="visualizations/spectrogram_Track 3.png" alt="Spectrogram Analysis" class="analysis-image"></div>
                </div>
                 <div class="card">
                    <h3>Semiotic Fingerprint</h3>
                     <div class="image-container" style="margin-top:0; padding-top:0;"><img src="visualizations/fingerprint_Track 3.png" alt="Semiotic Fingerprint" class="analysis-image"></div>
                </div>
				  <div class="card">
                <h3>Temporal Semiotic Analysis</h3>
                <div class="wide-image-container">
                    <img src="visualizations/temporal_Track 3.png" alt="Temporal Evolution Plot" class="analysis-image-wide">
                </div>
            </div>
            </div>
        </section>
        
        <section class="track-section fade-in" id="track4">
            <h2 class="section-title">Track 4: Aamis</h2>
            <div class="audio-player-section">
                <div class="player-container">
                    <div class="player-info">
                        <div class="track-details">
                            <h3 class="audio-title" style="border: none; margin: 0; padding: 0;">Fear and Apprehension</h3>
                            <p class="audio-subtitle">Building Tension Score</p>
                        </div>
                        <audio controls class="audio-player" id="audioTrack4"><source src="visualizations/t4.mp3" type="audio/mpeg"></audio>
                    </div>
                </div>
                <div class="timeline-container">
                    <h4 class="timeline-title">Interactive Sonic Events Timeline</h4>
                    <div class="timeline-visualization">
                        <div class="timeline-track" id="timelineTrack4"><div class="timeline-progress" id="timelineProgress4"></div><div class="timeline-events" id="timelineEvents4"></div><div class="timeline-cursor" id="timelineCursor4"></div></div>
                        <div class="timeline-labels" id="timelineLabels4"></div>
                    </div>
                    <div class="events-summary">
                        <div class="event-stats">
                             <div class="stat-card"><div class="stat-number" id="totalEvents4">0</div><div class="stat-label">Total Events</div></div>
                            <div class="stat-card"><div class="stat-number" id="eventsPerSecond4">0.00</div><div class="stat-label">Events/Sec</div></div>
                            <div class="stat-card"><div class="stat-number" id="duration4">0.00</div><div class="stat-label">Duration (s)</div></div>
                        </div>
                         <div class="events-legend">
                            <div class="legend-item"><div class="legend-dot high-intensity"></div><span>High Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot medium-intensity"></div><span>Medium Intensity</span></div>
                            <div class="legend-item"><div class="legend-dot low-intensity"></div><span>Low Intensity</span></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid">
                <div class="card">
                    <h3>Filmmaker's Intent & Context</h3>
                    <div class="description-content">
                        <p><strong>Sound Type:</strong> A deep instrumental melody that transitions from slow to gradually faster.</p>
                        <p><strong>Scene Description:</strong> Suman has decided to kill someone to satisfy Nirmali's appetite and is searching for a suitable person.</p>
                        <p><strong>Primary Themes:</strong> Fear, Apprehension</p>
                    </div>
                </div>
                <div class="card">
                    <h3>Objective Musical Properties</h3>
                    <div class="chart-container" style="position: relative; height:40vh; width:100%">
                        <canvas id="chartTrack4"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>AI-Powered Semiotic Interpretation</h3>
                    <table class="ai-table">
                        <thead><tr><th>AI Classification</th><th>Confidence Level</th></tr></thead>
                        <tbody>
                            <tr><td>Tension</td><td><div class="confidence-bar"><span class="confidence-value">25.24%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 25.24%"></div></div></div></td></tr>
                            <tr><td>Fear</td><td><div class="confidence-bar"><span class="confidence-value">13.06%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 13.06%"></div></div></div></td></tr>
                            <tr><td>Electronic drone</td><td><div class="confidence-bar"><span class="confidence-value">13.02%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 13.02%"></div></div></div></td></tr>
                            <tr><td>Sensory Roughness</td><td><div class="confidence-bar"><span class="confidence-value">12.76%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 12.76%"></div></div></div></td></tr>
                            <tr><td>Deep instrumental tones</td><td><div class="confidence-bar"><span class="confidence-value">12.56%</span><div class="confidence-visual"><div class="confidence-fill" style="width: 12.56%"></div></div></div></td></tr>
                        </tbody>
                    </table>
                     <div class="image-container"><img src="visualizations/spectrogram_Track 4.png" alt="Spectrogram Analysis" class="analysis-image"></div>
                </div>
                <div class="card">
                    <h3>Semiotic Fingerprint</h3>
                     <div class="image-container" style="margin-top:0; padding-top:0;"><img src="visualizations/fingerprint_Track 4.png" alt="Semiotic Fingerprint" class="analysis-image"></div>
                </div>
                 <div class="card">
                    <h3>Temporal Semiotic Analysis</h3>
                    <div class="wide-image-container">
                        <img src="visualizations/temporal_Track 4.png" alt="Temporal Evolution Plot" class="analysis-image-wide">
                    </div>
                </div>
            </div>
        </section>

        <section class="track-section fade-in" id="comparative">
            <h2 class="section-title" style="text-align: center;">Comparative & XAI Analysis</h2>
            <div class="similarity-grid">
                <div class="similarity-card">
                    <h3>Sonic Similarity (Timbre)</h3>
                    <p>Similarity based on the texture and acoustic quality of the sounds.</p>
                    <img src="visualizations/similarity_matrix_timbre.png" alt="Timbre Similarity Matrix" class="analysis-image">
                </div>
                <div class="similarity-card">
                    <h3>Sonic Similarity (Harmony)</h3>
                    <p>Similarity based on the harmonic and melodic content.</p>
                    <img src="visualizations/similarity_matrix_harmonic.png" alt="Harmonic Similarity Matrix" class="analysis-image">
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Â© Copyright Rhishikanya Batswa All Rights Reserved</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- Main Page Script for Charts, Timelines, etc. ---
        const tracksData = {
            track1: {
                audioId: 'audioTrack1', canvasId: 'chartTrack1', timelineTrackId: 'timelineTrack1', timelineProgressId: 'timelineProgress1', timelineEventsId: 'timelineEvents1', timelineCursorId: 'timelineCursor1', timelineLabelsId: 'timelineLabels1', totalEventsId: 'totalEvents1', eventsPerSecondId: 'eventsPerSecond1', durationId: 'duration1',
                properties: { tempo: 104.17, brightness: 3334.90, harmonicity: 8.61, loudness: 0.11, complexity: 3722.78, valence: -0.07, roughness: 0.0001 },
                events: [0.07, 0.91, 0.98, 1.3, 1.9, 2.45, 3.23, 3.29, 3.34, 3.64, 4.2, 4.78, 5.53, 5.59, 5.64, 5.95, 6.54, 7.07, 7.89, 7.95, 8.02, 8.07, 8.14, 8.19, 8.26, 8.31, 8.47, 8.53, 8.59, 8.66, 8.73, 8.79, 8.97, 9.3, 9.7, 10.12, 10.21, 10.53, 11.11, 11.68, 12.45, 12.51, 12.57, 12.85, 13.43, 14.01, 14.75, 14.81, 14.86, 15.17, 15.77, 16.29, 17.11, 17.17, 17.24, 17.42, 17.7, 17.76, 17.89, 17.95, 18.02, 18.52, 19.35, 19.43, 19.74, 20.11, 20.21, 20.34, 20.51, 20.91, 21.67, 21.73, 21.78, 22.08, 22.65, 23.22, 23.98, 24.03, 24.09, 24.39, 24.99, 25.24, 25.51, 25.81, 25.93, 26.39, 26.46, 26.86, 27.18, 27.23, 27.26, 27.74, 27.79, 28.65, 28.71, 28.97, 29.05, 29.56, 29.7, 30.13, 30.2, 30.74, 30.95, 31.01, 31.31, 31.66, 31.87, 32.45, 32.5, 32.87, 33.19, 33.25, 33.3, 33.61, 34.18, 34.22, 34.73, 34.81, 35.62, 35.68, 35.74, 35.86, 35.96, 36.2, 36.32, 36.39, 36.46, 36.49, 36.97, 37.88, 38.19, 38.26, 38.78, 39.35, 39.41, 40.12, 40.17, 40.22, 40.52, 41.09, 41.66, 42.42, 42.47, 42.53, 42.84, 43.43, 43.96, 44.03, 44.78, 44.83, 44.91, 44.97, 45.02, 45.08, 45.14, 45.18, 45.37, 45.42, 45.55, 45.61, 45.67, 45.71, 46.19, 47.09, 47.41, 47.49, 48.0, 48.57, 48.64, 49.33, 49.4, 49.45, 49.75, 50.31, 50.89, 51.64, 51.69, 51.74, 52.05, 52.65, 53.17, 54.13, 54.91, 55.41, 56.13, 56.32, 56.63, 56.71, 57.23, 57.78, 57.86, 58.56, 58.61, 58.67, 58.97, 59.54, 59.79, 59.86, 60.12, 60.74, 60.97, 61.17, 61.28, 61.88, 62.4, 63.29, 63.35, 63.62, 64.06, 64.12, 64.15, 64.64, 65.06, 65.35, 65.55, 65.86, 66.45, 67.02, 67.84, 67.89, 68.19, 68.76, 69.27, 69.33, 69.74, 69.96, 70.09, 70.14, 70.19, 70.51, 70.94, 71.09, 71.62, 71.69, 72.19, 72.44, 72.5, 72.57, 72.63, 72.69, 72.75, 72.8, 72.84, 72.97, 73.09, 73.28, 73.34, 73.38, 73.86, 74.57, 74.76, 75.01, 75.07, 75.16, 75.67, 76.23, 76.3, 76.58, 76.87, 77.0, 77.06, 77.11, 77.31, 77.41, 77.98, 78.03, 78.56, 78.61, 78.88, 79.18, 79.31, 79.36, 79.41, 79.62, 79.72, 79.77, 80.32, 80.84, 80.92, 81.18, 81.48, 81.66, 81.73, 81.79, 81.91, 81.97, 82.03, 82.07, 82.25, 82.3, 82.43, 82.51, 82.56, 82.59, 83.08, 83.22, 83.79, 83.98, 84.3, 84.37, 84.89, 85.45, 85.53, 86.09, 86.22, 86.28, 86.34, 86.53, 86.63, 87.2, 87.78, 87.83, 88.39, 88.59, 88.64, 88.95, 89.22, 89.55, 89.79, 90.07, 90.11, 91.82, 92.31, 92.46, 93.01, 93.21, 93.41, 93.53, 93.59, 93.83, 93.88, 93.95, 94.11, 94.17, 94.23, 94.31, 95.15, 95.32, 95.5, 95.56, 95.61, 95.86, 95.9, 96.42, 97.62, 97.8, 98.18, 98.21, 98.76, 99.3, 99.64, 99.93, 100.21, 100.51, 101.03, 101.53, 101.94, 102.23, 102.43, 102.52, 102.75, 102.82, 103.09, 103.39, 104.25, 104.53, 104.67, 104.73, 104.78, 104.83, 105.08, 105.12, 105.4, 105.64, 106.23, 106.85, 107.03, 107.08, 107.13, 107.29, 107.39, 107.7, 107.82, 107.99, 108.29, 108.51, 109.15, 109.44, 109.73, 110.22, 110.74, 110.85, 111.37, 111.41, 111.65, 111.87, 111.97, 112.0, 112.31, 112.52, 112.57, 113.13, 113.72, 113.76, 114.01, 114.29, 114.59, 114.84, 115.45, 115.48]
            },
            track2: {
                audioId: 'audioTrack2', canvasId: 'chartTrack2', timelineTrackId: 'timelineTrack2', timelineProgressId: 'timelineProgress2', timelineEventsId: 'timelineEvents2', timelineCursorId: 'timelineCursor2', timelineLabelsId: 'timelineLabels2', totalEventsId: 'totalEvents2', eventsPerSecondId: 'eventsPerSecond2', durationId: 'duration2',
                properties: { tempo: 114.80, brightness: 7234.59, harmonicity: 2.29, loudness: 0.07, complexity: 3948.70, valence: 0.01, roughness: 0.0008 },
                events: [0.07, 0.13, 0.46, 0.49, 0.58, 0.61, 1.0, 1.12, 1.16, 1.27, 1.47, 1.72, 1.75, 1.94, 2.13, 2.25, 2.4, 2.49, 2.54, 2.93, 3.29, 3.34, 3.45, 3.5, 3.77, 4.04, 4.1, 4.15, 4.21, 4.44, 4.55, 4.68, 4.74, 4.84, 4.92, 4.97, 5.03, 5.1, 5.15, 5.22, 5.27, 5.33, 5.4, 5.53, 5.71, 5.77, 5.88, 5.95, 5.99, 6.13, 6.19, 6.24, 6.36, 6.42, 6.5, 6.67, 7.06, 7.26, 7.37, 7.42, 7.87, 7.93, 7.98, 8.04, 8.1, 8.15, 8.21, 8.28, 8.33, 8.38, 8.45, 8.5, 8.57, 8.62, 8.67, 8.74, 8.8, 8.85, 8.91, 8.97, 9.02, 9.08, 9.14, 9.21, 9.26, 9.31, 9.38, 9.43, 9.49, 9.55, 9.61, 9.66, 9.73, 9.78, 9.85, 9.9, 9.95, 10.02, 10.08, 10.13, 10.19, 10.25, 10.29, 10.37, 10.42, 10.47, 10.54, 10.6, 10.66, 10.72, 10.77, 10.83, 10.94, 11.0, 11.13, 11.17, 11.22, 11.25, 11.3, 11.38, 11.61, 11.65, 11.69, 11.73, 11.78, 11.82, 11.86, 11.91, 11.95, 12.0, 12.04, 12.09, 12.17, 12.21, 12.3, 12.34, 12.38, 12.43, 12.47, 12.51, 12.61, 12.65, 12.69, 12.78, 12.86, 12.91, 13.05, 13.09, 13.24, 13.3, 13.49, 13.64, 13.73, 13.85, 13.91, 13.96, 14.08, 14.18, 14.28, 14.41, 14.53, 14.65, 14.83, 14.86, 14.94, 15.05]
            },
            track3: {
                audioId: 'audioTrack3', canvasId: 'chartTrack3', timelineTrackId: 'timelineTrack3', timelineProgressId: 'timelineProgress3', timelineEventsId: 'timelineEvents3', timelineCursorId: 'timelineCursor3', timelineLabelsId: 'timelineLabels3', totalEventsId: 'totalEvents3', eventsPerSecondId: 'eventsPerSecond3', durationId: 'duration3',
                properties: { tempo: 175.78, brightness: 1760.51, harmonicity: 14.53, loudness: 0.06, complexity: 2560.72, valence: 0.07, roughness: 0.0000 },
                events: [0.09, 0.21, 0.64, 0.81, 1.88, 2.42, 2.87, 3.31, 3.77, 4.2, 4.65, 5.09, 5.54, 5.97, 6.42, 6.87, 7.31, 7.75, 8.2, 8.65, 9.09, 9.32, 9.98, 10.42, 11.32, 11.77, 12.65, 13.09, 13.55, 13.97, 14.42, 14.87, 15.32, 16.2, 16.65, 17.09, 17.53, 17.97, 18.42, 18.88, 19.31, 19.75, 20.66, 21.31, 22.42, 22.66, 23.31, 25.53, 25.96, 27.73, 28.16, 28.6, 29.14, 29.49, 29.79, 29.93, 30.31, 32.98, 34.27, 34.5, 34.56, 34.7, 34.75, 34.91, 35.31, 35.47, 35.58, 35.73, 35.88, 35.95, 36.18, 36.23, 36.55, 36.71, 36.81, 37.01, 37.12, 37.15, 37.56, 37.77, 37.89, 37.99, 38.09, 38.22, 38.37, 38.66, 38.78, 39.09, 39.54, 39.94, 39.99, 40.86, 41.74, 43.1, 44.16, 44.55, 44.87, 45.32, 45.72, 47.08, 47.55, 48.46, 48.9, 49.08, 49.23, 49.28, 49.53, 50.25, 50.89, 51.19, 51.26, 51.31, 51.63, 51.77, 52.02, 52.14, 52.3, 52.49, 52.66, 52.73, 52.94, 53.22, 53.43, 53.53, 53.66, 53.82, 53.87, 54.34, 54.53, 54.87, 55.05, 55.19, 55.45, 55.89, 57.33, 58.22, 58.61, 59.87, 60.12, 60.28, 60.53, 60.94, 61.31, 61.61, 62.29, 62.45, 62.66, 62.77, 63.08, 63.13, 63.63, 63.75, 64.12, 64.39, 64.98, 65.28, 65.32, 65.62, 68.8, 69.12, 69.28, 69.79, 69.93, 71.29, 71.62, 72.28, 72.46, 72.63, 72.95, 73.12, 73.29, 73.47, 73.78, 74.46, 74.61, 75.13, 75.29, 75.94, 77.61, 78.28, 78.6, 78.76, 78.93, 79.1, 79.27, 79.61, 79.77, 79.95, 80.28, 80.44, 80.6, 80.77, 80.94, 81.29, 84.43, 85.79, 86.61, 87.63, 88.28, 89.59, 89.94, 90.12, 90.46, 91.94, 92.11, 92.27, 92.45, 93.28, 93.44, 93.62, 93.78, 94.11, 94.28, 94.78, 94.97, 95.97, 96.39, 97.49, 97.65, 97.81, 99.03, 99.84, 101.0, 101.15, 101.48, 102.14, 102.31, 103.89, 104.23, 104.38, 105.21, 106.23, 107.86, 108.73, 111.42, 112.35, 112.58, 113.35, 114.71, 115.36, 116.05, 117.3, 117.42, 118.77, 119.85, 120.14, 120.48, 121.49, 122.74, 122.85, 124.07, 124.21, 124.33, 124.55, 124.73, 124.89, 125.57, 126.92, 127.25, 127.39, 128.29, 129.63, 130.14, 130.66, 131.0, 131.34, 131.95, 132.35, 132.86, 133.38, 133.71, 135.06, 135.57, 136.09, 136.43, 136.94, 137.44, 137.78, 138.3, 138.49, 138.82, 139.15, 139.56, 140.16, 140.32, 140.5, 141.07, 141.53, 141.86, 142.37, 142.97, 143.22, 144.57, 145.59, 145.92, 146.27, 147.3, 148.64, 150.01, 150.69, 151.36, 152.04, 155.43, 155.77, 164.94, 165.27, 166.62, 169.51, 170.37, 172.41, 176.12, 181.23, 183.26, 183.95, 189.38, 189.72, 191.4, 191.73, 192.07, 192.74, 193.44, 193.72, 194.79, 197.02, 198.18, 205.66, 213.79, 215.17, 216.52, 218.75, 220.6, 221.25]
            },
            track4: {
                audioId: 'audioTrack4', canvasId: 'chartTrack4', timelineTrackId: 'timelineTrack4', timelineProgressId: 'timelineProgress4', timelineEventsId: 'timelineEvents4', timelineCursorId: 'timelineCursor4', timelineLabelsId: 'timelineLabels4', totalEventsId: 'totalEvents4', eventsPerSecondId: 'eventsPerSecond4', durationId: 'duration4',
                properties: { tempo: 122.28, brightness: 2012.63, harmonicity: 3.80, loudness: 0.04, complexity: 2879.46, valence: 0.00, roughness: 0.0001 },
                events: [0.06, 0.96, 1.66, 2.52, 2.57, 2.61, 2.66, 2.77, 2.81, 2.85, 2.88, 2.95, 2.99, 3.06, 3.09, 3.14, 3.21, 3.29, 3.51, 4.21, 4.28, 4.31, 4.68, 4.89, 5.12, 5.48, 5.67, 6.12, 6.39, 6.51, 6.62, 6.75, 6.88, 7.0, 7.11, 7.25, 7.31, 7.5, 7.62, 7.97, 8.18, 8.35, 8.61, 8.74, 8.98, 9.23, 9.35, 9.48, 9.73, 9.97, 10.11, 10.23, 10.35, 10.47, 10.59, 10.72, 10.84, 10.97, 11.03, 11.09, 11.22, 11.34, 11.47, 11.58, 11.71, 11.83, 11.96, 12.07, 12.2, 12.33, 12.46, 12.58, 12.7, 12.82, 12.95, 13.07, 13.19, 13.31, 13.45, 13.57, 13.7, 13.81, 13.94, 14.06, 14.19, 14.3, 14.44, 14.56, 14.69, 14.81, 14.93, 15.05, 15.18, 15.31, 15.42, 15.55, 15.68, 15.8, 15.93, 16.04, 16.17, 16.29, 16.43, 16.54, 16.67, 16.79, 16.92, 17.03, 17.16, 17.28, 17.41, 17.54, 17.66, 17.78, 17.91, 18.03, 18.15, 18.27, 18.4, 18.53, 18.66, 18.77, 18.9, 19.02, 19.15, 19.26, 19.4, 19.52, 19.65, 19.77, 19.89, 20.01, 20.14, 20.26, 20.38, 20.51, 20.63, 20.76, 20.89, 21.0, 21.13, 21.25, 21.38, 21.49, 21.62, 21.75, 21.88, 21.99, 22.12, 22.24, 22.37, 22.5, 22.62, 22.74, 22.87, 22.99, 23.09, 23.13, 23.23, 23.36, 23.43, 23.49, 23.73, 23.86, 23.98, 24.49, 24.71, 25.22, 25.35, 25.6, 25.72, 25.85, 25.96, 26.09, 26.21, 26.34, 26.45, 26.58, 26.71, 26.84, 26.95, 27.08, 27.2, 27.33, 27.45, 27.57, 27.69, 27.82, 27.95, 28.07, 28.19, 28.32, 28.44, 28.57, 28.69, 28.82, 28.94, 29.07, 29.18, 29.31, 29.43, 29.56, 29.67, 29.81, 29.93, 30.06, 30.18, 30.3, 30.42, 30.55, 30.67, 30.81, 30.92, 31.05, 31.17, 31.3, 31.41, 31.54, 31.66, 31.8, 31.91, 32.04, 32.16, 32.29, 32.41, 32.53, 32.65, 32.78, 32.91, 33.03, 33.15, 33.28, 33.4, 33.53, 33.64, 33.77, 33.9, 33.93, 34.03, 34.14, 34.27, 34.39, 34.52, 34.63, 34.76, 34.89, 35.02, 35.14, 35.26, 35.38, 35.51, 35.63, 35.75, 35.88, 35.91, 36.01, 36.13, 36.21, 36.26, 36.37, 36.5, 36.63, 36.76, 36.8, 36.87, 36.95, 37.12, 37.25, 37.37, 37.49, 37.62, 37.66, 37.75, 37.99, 38.11, 38.24, 38.37, 38.5, 38.55, 38.67, 38.74, 38.86, 38.91, 38.99, 39.1, 39.23, 39.35, 39.38, 39.49, 39.61, 39.73, 39.84, 39.98, 40.1, 40.22, 40.34, 40.47, 40.63, 40.7, 40.84, 40.96, 41.1, 41.16, 41.26, 41.59, 41.72, 41.78, 41.94, 42.08, 42.2, 42.33, 42.56, 42.63, 42.72, 42.78, 43.05, 43.49, 43.7, 43.88, 44.01, 44.16, 44.28, 44.31, 44.69, 44.74, 44.82, 44.97, 45.16, 45.24, 45.47, 45.79, 46.3, 46.4, 46.54, 46.79, 46.9, 46.99, 47.19, 47.38, 47.46, 47.52, 47.64, 47.75, 47.86, 47.93, 48.37, 48.49, 48.79, 48.92, 48.99, 49.29, 49.44, 49.49, 49.57, 49.69, 49.86, 49.98, 50.1, 50.15, 50.23, 50.34, 50.42, 50.6, 50.97, 51.09, 51.22, 51.35, 51.47, 51.59, 51.71, 51.84, 51.88, 51.94, 52.09, 52.21, 52.33, 52.46, 52.59, 52.66, 52.7, 52.77, 52.83, 52.95, 52.99, 53.08, 53.21, 53.32, 53.44, 53.58, 53.7, 53.82, 53.94, 53.99, 54.07, 54.19, 54.33, 54.44, 54.49, 54.57, 54.69, 54.79, 54.93, 55.05, 55.18, 55.32, 55.36, 55.43, 55.56, 55.68, 55.81, 55.93, 56.05, 56.17, 56.3, 56.43, 56.53, 56.67, 56.8, 56.92, 57.05, 57.15, 57.28, 57.42, 57.55, 57.64, 57.79, 57.87, 57.91, 58.04, 58.15, 58.28, 58.41, 58.54, 58.66, 58.69, 58.78, 58.9, 58.97, 59.03, 59.11, 59.15, 59.27, 59.4, 59.53, 59.65, 59.77, 59.89, 60.02, 60.15, 60.27, 60.38, 60.52, 60.62, 60.77, 60.89, 61.01, 61.13, 61.26, 61.37, 61.4, 61.48, 61.51, 61.63, 61.76, 61.88, 62.01, 62.12, 62.25, 62.38, 62.51, 62.62, 62.75, 62.87, 63.01, 63.13, 63.24, 63.36, 63.5, 63.62, 63.83, 63.86, 63.99, 64.11, 64.25, 64.36, 64.49, 64.73, 64.85, 64.98, 65.11, 65.23, 65.35, 65.48, 65.6, 65.73, 65.85, 65.97, 66.1, 66.23, 66.34, 66.47, 66.59, 66.72, 66.84, 66.92, 66.97, 67.08, 67.14, 67.21, 67.25, 67.34, 67.47, 67.54, 67.68, 67.71, 67.83, 67.91, 67.97, 68.02, 68.07, 68.2, 68.32, 68.45, 68.58, 68.7, 68.82, 68.95, 69.07, 69.19, 69.37, 69.41, 69.45, 69.55, 69.58, 69.67, 69.88, 69.94, 70.06, 70.31, 70.44, 70.56, 70.69, 70.81, 70.89, 70.97, 71.08, 71.31, 71.34, 71.52, 71.69, 71.86, 71.9, 72.03, 72.18, 72.26, 72.3, 72.39, 72.45, 72.51, 72.55, 72.63, 72.73, 72.86, 72.97, 73.33, 73.5, 73.65, 73.72, 73.77, 73.83, 73.89, 73.94, 74.05, 74.1, 74.17, 74.34, 74.37, 74.41, 74.44, 74.54]
            }
        };

        // --- Chart Logic ---
        function normalizeValue(value, type) {
            const ranges = {
                tempo: { min: 60, max: 180 },
                brightness: { min: 1000, max: 8000 },
                harmonicity: { min: 0, max: 20 },
                loudness: { min: 0, max: 0.2 },
                complexity: { min: 1000, max: 5000 },
                valence: { min: -1, max: 1 },
                roughness: { min: 0, max: 0.0015 }
            };
            const range = ranges[type];
            if (!range) return 0;
            
            let normalized = ((value - range.min) / (range.max - range.min)) * 100;
            return Math.max(0, Math.min(100, normalized));
        }

        function createRadarChart(canvasId, properties) {
            const ctx = document.getElementById(canvasId).getContext('2d');
            const labels = ['Tempo', 'Brightness', 'Harmonicity', 'Loudness', 'Complexity', 'Valence', 'Roughness'];
            const data = [
                normalizeValue(properties.tempo, 'tempo'),
                normalizeValue(properties.brightness, 'brightness'),
                normalizeValue(properties.harmonicity, 'harmonicity'),
                normalizeValue(properties.loudness, 'loudness'),
                normalizeValue(properties.complexity, 'complexity'),
                normalizeValue(properties.valence, 'valence'),
                normalizeValue(properties.roughness, 'roughness')
            ];

            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Musical Properties',
                        data: data,
                        backgroundColor: 'rgba(0, 169, 255, 0.2)',
                        borderColor: 'rgba(0, 169, 255, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(0, 169, 255, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(0, 169, 255, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.2)' },
                            grid: { color: 'rgba(255, 255, 255, 0.2)' },
                            pointLabels: { color: 'rgba(255, 255, 255, 0.7)', font: { size: 12, family: 'Inter'} },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)',
                                backdropColor: 'rgba(0, 0, 0, 0.5)',
                                stepSize: 25,
                                callback: function(value) { return value + '%' }
                            },
                            min: 0,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // --- Timeline Logic ---
        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60).toString().padStart(2, '0');
            return `${min}:${sec}`;
        }

        function initializeTrack(trackKey) {
            const config = tracksData[trackKey];
            if (!config) return;

            if (config.canvasId && config.properties) createRadarChart(config.canvasId, config.properties);

            const audio = document.getElementById(config.audioId);
            const timelineEvents = document.getElementById(config.timelineEventsId);
            const timelineTrack = document.getElementById(config.timelineTrackId);
            const timelineProgress = document.getElementById(config.timelineProgressId);
            const timelineCursor = document.getElementById(config.timelineCursorId);
            const timelineLabels = document.getElementById(config.timelineLabelsId);
            const sonicEvents = config.events;
            if (!audio || !sonicEvents || sonicEvents.length === 0) return;

            audio.addEventListener('loadedmetadata', () => {
                const totalDuration = audio.duration;
            
                document.getElementById(config.totalEventsId).textContent = sonicEvents.length;
                document.getElementById(config.durationId).textContent = totalDuration.toFixed(2);
                document.getElementById(config.eventsPerSecondId).textContent = (sonicEvents.length / totalDuration).toFixed(2);

                const density = calculateEventDensity(sonicEvents, totalDuration);
                timelineEvents.innerHTML = '';
                const trackMarkers = [];

                sonicEvents.forEach(eventTime => {
                    const marker = document.createElement('div');
                    marker.className = 'event-marker';
                    const position = (eventTime / totalDuration) * 100;
                    marker.style.left = `${position}%`;
                    marker.setAttribute('data-timestamp', `${eventTime.toFixed(2)}s`);
                    const intensity = getEventIntensity(eventTime, density);
                    marker.classList.add(`${intensity}-intensity`);
                    
                    marker.addEventListener('click', (e) => {
                        e.stopPropagation();
                        document.querySelectorAll('.event-marker.tooltip-active').forEach(activeMarker => {
                            if (activeMarker !== marker) activeMarker.classList.remove('tooltip-active');
                        });
                        marker.classList.toggle('tooltip-active');
                        audio.currentTime = eventTime;
                        audio.play().catch(err => console.error("Autoplay failed:", err));
                    });
                    timelineEvents.appendChild(marker);
                    trackMarkers.push({element: marker, time: eventTime});
                });
                
                timelineLabels.innerHTML = '';
                const numLabels = 5;
                for (let i = 0; i <= numLabels; i++) {
                    const time = (totalDuration / numLabels) * i;
                    const span = document.createElement('span');
                    span.textContent = formatTime(time);
                    timelineLabels.appendChild(span);
                }
            
                let lastPlayedIndex = -1;
                audio.addEventListener('timeupdate', () => {
                    if (!audio.duration || audio.paused) return;
                    const progress = (audio.currentTime / audio.duration) * 100;
                    timelineProgress.style.width = `${progress}%`;
                    timelineCursor.style.left = `${progress}%`;
                    
                    const closestMarkerIndex = trackMarkers.findIndex(marker => marker.time >= audio.currentTime);
                    if (closestMarkerIndex !== -1 && closestMarkerIndex !== lastPlayedIndex) {
                        const eventTime = trackMarkers[closestMarkerIndex].time;
                        if (Math.abs(audio.currentTime - eventTime) < 0.25) { // Threshold to trigger pulse
                            const activeMarker = trackMarkers[closestMarkerIndex].element;
                            activeMarker.classList.add('marker-playing');
                            setTimeout(() => activeMarker.classList.remove('marker-playing'), 500);
                            lastPlayedIndex = closestMarkerIndex;
                        }
                    }
                });

                timelineTrack.addEventListener('click', (e) => {
                    if (e.target.classList.contains('event-marker')) return;
                    const rect = timelineTrack.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const percentage = clickX / rect.width;
                    audio.currentTime = percentage * audio.duration;
                });
            });
        }

        function calculateEventDensity(events, duration) {
            const windowSize = Math.max(1, duration / 10);
            const densityMap = {};
            for (let i = 0; i < duration; i += windowSize) {
                const windowEnd = Math.min(i + windowSize, duration);
                const count = events.filter(e => e >= i && e < windowEnd).length;
                for (let j = Math.floor(i); j < Math.ceil(windowEnd); j++) densityMap[j] = count;
            }
            return densityMap;
        }

        function getEventIntensity(eventTime, densityMap) {
            const localDensity = densityMap[Math.floor(eventTime)] || 0;
            const values = Object.values(densityMap);
            const avgDensity = values.length > 0 ? values.reduce((a, b) => a + b, 0) / values.length : 0;
            if (avgDensity === 0) return 'low';
            const highThreshold = avgDensity * 1.5;
            if (localDensity > highThreshold) return 'high';
            if (localDensity > avgDensity * 0.75) return 'medium';
            return 'low';
        }

        Object.keys(tracksData).forEach(initializeTrack);
        
        document.querySelectorAll('.confidence-fill').forEach(fill => {
            const width = fill.style.width;
            fill.style.width = '0%';
            setTimeout(() => fill.style.width = width, 500);
        });

        document.body.addEventListener('click', (e) => {
            if (!e.target.closest('.timeline-events')) {
                document.querySelectorAll('.event-marker.tooltip-active').forEach(marker => marker.classList.remove('tooltip-active'));
            }
        });

        // --- Menu Active State on Scroll ---
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.sidebar nav a');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        const linkHref = link.getAttribute('href').substring(1);
                        link.classList.toggle('active', linkHref === entry.target.id);
                    });
                }
            });
        }, { rootMargin: '-40% 0px -60% 0px' });
        sections.forEach(sec => observer.observe(sec));

        // --- Mobile Menu Logic ---
        const menuToggle = document.getElementById('menu-toggle');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('mobile-overlay');

        function closeMenu() {
            sidebar.classList.remove('is-open');
            menuToggle.classList.remove('is-open');
            overlay.classList.remove('is-active');
        }

        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('is-open');
            menuToggle.classList.toggle('is-open');
            overlay.classList.toggle('is-active');
        });

        overlay.addEventListener('click', closeMenu);
        document.querySelectorAll('.sidebar nav a').forEach(link => {
            link.addEventListener('click', closeMenu);
        });
    });
    </script>
	 <script>
        document.addEventListener('DOMContentLoaded', function() {
            // This second script block is for the cycling quotes in the header.
            const quotes = [
                { text: "Music is the shorthand of emotion.", author: "Leo Tolstoy" },
                { text: "Where words fail, music speaks.", author: "Hans Christian Andersen" },
                { text: "Music expresses that which cannot be put into words and that which cannot remain silent.", author: "Victor Hugo" },
                { text: "Without music, life would be a mistake.", author: "Friedrich Nietzsche" },
                { text: "The only truth is music.", author: "Jack Kerouac" }
            ];

            const quoteContainer = document.getElementById('quote-container');
            const quoteTextElem = document.getElementById('quote-text');
            const quoteAuthorElem = document.getElementById('quote-author');
            
            if (quoteContainer && quoteTextElem && quoteAuthorElem) {
                let currentQuoteIndex = 0;

                function updateQuote() {
                    quoteContainer.style.opacity = 0;
                    setTimeout(() => {
                        currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
                        quoteTextElem.textContent = `"${quotes[currentQuoteIndex].text}"`;
                        quoteAuthorElem.textContent = `â ${quotes[currentQuoteIndex].author}`;
                        quoteContainer.style.opacity = 1;
                    }, 500);
                }

                quoteTextElem.textContent = `"${quotes[0].text}"`;
                quoteAuthorElem.textContent = `â ${quotes[currentQuoteIndex].author}`;
                setInterval(updateQuote, 7000);
            }
        });
    </script>

</body>
</html>